import{g as r,S as n}from"./ScrollTrigger.CKx49QUS.js";let l=null,c=null,i=null;function p(){r.registerPlugin(n);const o=document.querySelector("#scroll-indicator"),e=document.querySelector(".page-wrapper");if(o&&e){l&&(l.kill(),l=null,console.log("Killed previous indicator Scrub Trigger")),c&&(c.kill(),c=null,console.log("Killed previous indicator Callback Trigger"));const t=r.fromTo(o,{opacity:.6},{opacity:0,immediateRender:!1});l=n.create({trigger:e,scroller:e,start:"10px top",end:"+=150",animation:t,scrub:.5}),console.log("Setup new indicator Scrub Trigger");const a=(d=0)=>{l?.isActive||(i!==null&&clearTimeout(i),i=setTimeout(()=>{e.scrollTop<10&&r.to(o,{opacity:.6,duration:.5,overwrite:!0})},d))},s=()=>{i!==null&&clearTimeout(i),l?.isActive||r.to(o,{opacity:0,duration:.3,overwrite:!0})};r.set(o,{opacity:0}),e.scrollTop<10&&a(3e3),c=n.create({trigger:e,scroller:e,start:"10px top",onEnter:s,onLeaveBack:()=>{e.scrollTop<5?(console.log("ScrollIndicator: At very top onLeaveBack, forcing hide."),s()):(console.log("ScrollIndicator: Near top onLeaveBack, scheduling show."),a(3e3))}}),console.log("Setup new indicator Callback Trigger"),o&&(o.addEventListener("click",()=>{parseFloat(window.getComputedStyle(o).opacity)>.1&&window.scrollBy({top:window.innerHeight,left:0,behavior:"smooth"})}),console.log("Added click listener to scroll indicator"))}else console.warn("Indicator animation setup skipped: elements not found.")}document.addEventListener("astro:page-load",()=>{p();const o=document.querySelector("#scroll-indicator"),e=document.querySelector(".page-wrapper");o&&e?(console.log("[ClickScroll] Attaching click listener to indicator."),o.addEventListener("click",()=>{console.log("[ClickScroll] Scroll indicator clicked!");const t=parseFloat(window.getComputedStyle(o).opacity);console.log("[ClickScroll] Current Opacity:",t),t>.1?(console.log("[ClickScroll] Scrolling page wrapper..."),e.scrollBy({top:e.clientHeight,left:0,behavior:"smooth"})):console.log("[ClickScroll] Scroll aborted due to low opacity.")})):(o||console.warn("[ClickScroll] Indicator element (#scroll-indicator) not found for click listener."),e||console.warn("[ClickScroll] Page wrapper element (.page-wrapper) not found for scrolling."))},{once:!1});
